{% extends "layouts/courier_base.html" %}
{% set page_title = "Add Tracking Event" %}
{% set page_subtitle = "Update shipment status, location, and notes." %}
{% block courier_content %}
<a class="text-decoration-none small text-muted d-inline-flex align-items-center mb-2" href="{{ url_for('courier.shipment_detail', shipment_id=shipment.id) }}">
    <span class="me-1">&larr;</span>Back to shipment
</a>
<h2 class="h6 mb-3">Add Tracking Event for {{ shipment.tracking_number }}</h2>
<form method="post">
    <div class="mb-3">
        <label class="form-label d-block">Status</label>
        <div class="d-flex flex-wrap gap-2 status-picker">
            {% for status in status_choices %}
                <input type="radio" class="btn-check" name="status" id="status-{{ loop.index }}" value="{{ status }}" {% if loop.first %}checked{% endif %} required>
                <label class="btn btn-outline-primary" for="status-{{ loop.index }}">{{ status }}</label>
            {% endfor %}
        </div>
    </div>
    <div class="mb-3">
        <label class="form-label">Location</label>
        <input name="location_description" class="form-control" placeholder="City or location" required>
    </div>
    <div class="mb-3">
        <label class="form-label">Notes</label>
        <textarea name="notes" class="form-control" rows="3"></textarea>
    </div>
    <div class="mb-3">
        <label class="form-label">Proof link (optional)</label>
        <input name="proof_url" class="form-control" placeholder="URL to photo or document">
        <div class="helper-text">Use if delivering or returning; link to uploaded proof (no upload here).</div>
    </div>
    <div class="d-flex gap-2">
        <button class="btn btn-primary" type="submit">Save</button>
        <a class="btn btn-secondary" href="{{ url_for('courier.shipment_detail', shipment_id=shipment.id) }}">Cancel</a>
    </div>
</form>
{% endblock %}
